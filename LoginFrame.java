/*LoginFrame class: Creates a LoginFrame JFrame.  

* Calls the initComponents() function to integrate all the components  

* (default closing operation, bounds, location (null, which will allow it to be centered), 

*  text fields, and login button with sound. 

*/ 

package edu.pupr.store;   

  

import java.awt.EventQueue;   

  

  

  

import javax.swing.*;  

  

import java.awt.*;    

 import javax.sound.sampled.AudioSystem;   

 import javax.sound.sampled.Clip;   

 import javax.swing.*;    

 import java.awt.*;    

 import javax.swing.JFrame;    

 import javax.swing.JPanel;    

 import javax.swing.border.EmptyBorder;    

 import javax.swing.GroupLayout;    

 import javax.swing.GroupLayout.Alignment;    

 import javax.swing.JTextField;    

 import javax.swing.JLabel;    

 import javax.swing.LayoutStyle.ComponentPlacement;    

 import java.awt.Font;    

 import javax.swing.JButton;    

 import java.awt.Color;    

   

import java.awt.event.ActionEvent;    

  

 import java.awt.event.ActionListener;   

 import java.io.File;  

  

import java.io.IOException;    


public class LoginFrame extends JFrame {    

  

    private static final long serialVersionUID = 1L;    

    private JPanel contentPane;    

    private JTextField textField;    

    private SplashScreen splashScreen; // Reference to SplashScreen    

    private JPasswordField passwordField;    

 
  

    //LoginFrame constructor receives a splash screen  

    public LoginFrame(SplashScreen splashScreen) {    

  

  

        this.splashScreen = splashScreen; // Set the reference    

  

        initComponents();    

  

    }    

  

  

    //Method to play sound when pressing a button   

  

    public void playSound(String soundFile) {   

  

  

  

   	    try {   

  

  

  

   	        File file = new File(soundFile);   

  

  

  

   	        Clip clip = AudioSystem.getClip();   

  

  

  

   	        clip.open(AudioSystem.getAudioInputStream(file));   

  

  

  

   	        clip.start();   

  

  

  

   	    } catch (Exception e) {   

  

  

  

   	        e.printStackTrace();   

  

  

  

   	    }   

  

  

  

   	}   

  

    /*  Method that integrates all components of the JFrame. Creates a JPanel, establishes its closing 

     * operation and its location. Decorates it and adds a JTextField, a JPasswordField, and JLabels for User and Password 

     * entry. Creates a JButton called Login and adds an actionPerformed for the Login Button  

     * to play the inserted sound when pressing it. Uses a method called performLogin() to  

     * hard-codes User to be admin and Password to be password. If correct, it will dispose  

     * the LoginFrame and proceed to the MenuFrame while the splash screen remains visible. If incorrect, it will open a 

     * JDialogBox stating an invalid user entry and the LoginFrame will remain open until you decide to close it. 

  

     */ 

  

  

    private void initComponents() {    

  

  

        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);    

  
  

        setBounds(100, 100, 450, 300);    

  

  

  

    

  

  

  

        contentPane = new JPanel();    

  

  

  

    

  

  

  

        setLocationRelativeTo(null);    

  

  

  

    

  

  

  

        contentPane.setBackground(new Color(0x222F5B));    

  

  

  

    

  

  

  

        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));    

  

  

  

    

  

  

  

        setContentPane(contentPane);    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        textField = new JTextField();    

  

  

  

    

  

  

  

        textField.setColumns(10);    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        JLabel lblNewLabel = new JLabel("USERNAME: ");    

  

        lblNewLabel.setForeground(new Color(255, 255, 255));  

  

  

  

    

  

  

  

        lblNewLabel.setFont(new Font("Arial Black", Font.BOLD | Font.ITALIC, 14));    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        JLabel lblNewLabel_1 = new JLabel("PASSWORD: ");    

  

        lblNewLabel_1.setForeground(new Color(255, 255, 255));  

  

  

  

    

  

  

  

        lblNewLabel_1.setFont(new Font("Arial Black", Font.BOLD | Font.ITALIC, 14));    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        JButton btnNewButton = new JButton("LOGIN");    

  

  

  

    

  

  

  

        btnNewButton.setFont(new Font("Arial Black", Font.BOLD | Font.ITALIC, 14));    

  

  

  

    

  

  

  

        btnNewButton.addActionListener(new ActionListener() {    

  

  

  

    

  

  

  

            public void actionPerformed(ActionEvent e) {    

  

  

  

    

  

  

  

           	 playSound("Minecraft.wav_V1.wav");   

  

  

  

                performLogin();    

  

  

  

    

  

  

  

            }    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        });        

  

  

  

    

  

  

  

            

  

  

  

    

  

  

  

        passwordField = new JPasswordField();    

  

  

  

    

  

  

  

            

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

    

  

  

  

        GroupLayout gl_contentPane = new GroupLayout(contentPane);    

  

  

  

    

  

  

  

        gl_contentPane.setHorizontalGroup(    

  

  

  

    

  

  

  

        	gl_contentPane.createParallelGroup(Alignment.TRAILING)    

  

  

  

    

  

  

  

        		.addGroup(gl_contentPane.createSequentialGroup()    

  

  

  

    

  

  

  

        			.addContainerGap(71, Short.MAX_VALUE)    

  

  

  

    

  

  

  

        			.addGroup(gl_contentPane.createParallelGroup(Alignment.TRAILING)    

  

  

  

    

  

  

  

        				.addGroup(gl_contentPane.createSequentialGroup()    

  

  

  

    

  

  

  

        					.addGroup(gl_contentPane.createParallelGroup(Alignment.LEADING)    

  

  

  

    

  

  

  

        						.addComponent(lblNewLabel_1)    

  

  

  

    

  

  

  

        						.addComponent(lblNewLabel, GroupLayout.PREFERRED_SIZE, 116, GroupLayout.PREFERRED_SIZE))    

  

  

  

    

  

  

  

        					.addGap(45)    

  

  

  

    

  

  

  

        					.addGroup(gl_contentPane.createParallelGroup(Alignment.LEADING)    

  

  

  

    

  

  

  

        						.addComponent(passwordField)    

  

  

  

    

  

  

  

        						.addComponent(textField, GroupLayout.PREFERRED_SIZE, 174, GroupLayout.PREFERRED_SIZE))    

  

  

  

    

  

  

  

        					.addGap(18))    

  

  

  

    

  

  

  

        				.addGroup(gl_contentPane.createSequentialGroup()    

  

  

  

    

  

  

  

        					.addComponent(btnNewButton)    

  

  

  

    

  

  

  

        					.addGap(165))))    

  

  

  

    

  

  

  

        );    

  

  

  

    

  

  

  

        gl_contentPane.setVerticalGroup(    

  

  

  

    

  

  

  

        	gl_contentPane.createParallelGroup(Alignment.LEADING)    

  

  

  

    

  

  

  

        		.addGroup(gl_contentPane.createSequentialGroup()    

  

  

  

    

  

  

  

        			.addGap(33)    

  

  

  

    

  

  

  

        			.addGroup(gl_contentPane.createParallelGroup(Alignment.BASELINE)    

  

  

  

    

  

  

  

        				.addComponent(textField, GroupLayout.PREFERRED_SIZE, 38, GroupLayout.PREFERRED_SIZE)    

  

  

  

    

  

  

  

        				.addComponent(lblNewLabel, GroupLayout.PREFERRED_SIZE, 31, GroupLayout.PREFERRED_SIZE))    

  

  

  

    

  

  

  

        			.addGap(33)    

  

  

  

    

  

  

  

        			.addGroup(gl_contentPane.createParallelGroup(Alignment.BASELINE)    

  

  

  

    

  

  

  

        				.addComponent(lblNewLabel_1)    

  

  

  

    

  

  

  

        				.addComponent(passwordField, GroupLayout.PREFERRED_SIZE, 39, GroupLayout.PREFERRED_SIZE))    

  

  

  

    

  

  

  

        			.addPreferredGap(ComponentPlacement.RELATED, 41, Short.MAX_VALUE)    

  

  

  

    

  

  

  

        			.addComponent(btnNewButton)    

  

  

  

    

  

  

  

        			.addGap(37))    

  

  

  

    

  

  

  

        );    

  

  

  

    

  

  

  

        contentPane.setLayout(gl_contentPane);    

  

  

  

    

  

  

  

    }    

  

  

  

    

  

  

  

        

  

  

  

    

  

  

  

    private void performLogin() {    

  

  

  

    

  

  

  

    	if (textField .getText().equals("admin") && new String(passwordField.getPassword()).equals("password")) {    

  

  

  

    

  

  

  

            // Authentication successful, maintain splash screen and show the menu frame    

  

  

  

    		//add sound   

  

  

  

            splashScreen.setVisible(true);    

  

  

  

    

  

  

  

            new Menu().setVisible(true);    

  

  

  

    

  

  

  

            dispose(); // Close the login frame    

  

  

  

    

  

  

  

        } else {    

  

  

  

    

  

  

  

            JOptionPane.showMessageDialog(null, "Invalid username or password", "Login Error", JOptionPane.ERROR_MESSAGE);    

  

  

  

    

  

  

  

        }    

  

  

  

    }  

  

      

  

  

  

    

  

  

  

}   

 